<div class="container">
  <h1>{{ isRegister  ? 'Employee Registration Form' : 'Update Employee Details'}}</h1>
  <hr>
  <form [formGroup]="registrationForm" class="box" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label><b>Employee Name:</b></label>
      <input type="text" placeholder="Full Name" formControlName="empName" class="form-control"
        [class.is-invalid]="empName.invalid && empName.untouched">
      <div *ngIf="empName.invalid && empName.touched">
        <small class="text-danger" *ngIf="empName.errors?.required">Employee name is required</small>
        <small class="text-danger" *ngIf="empName.errors?.minlength">Employee name must be at least 3
          characters</small>
      </div>
    </div>

    <div class="form-group">
      <label><b>Age:</b></label>
      <input type="number" placeholder="Age in years approx." formControlName="age" class="form-control"
        [class.is-invalid]="age.invalid && age.untouched">
      <div *ngIf="age.invalid && age.touched">
        <small class="text-danger" *ngIf="age.errors?.required">Age cannot be empty</small>
        <small class="text-danger" *ngIf="age.errors?.max">Age more than 99 not allowed</small>
      </div>
    </div>

    <div class="form-group">
      <label><b>Contact No.:</b></label>
      <input type="number" placeholder="Phone Number" pattern="^\d{10}$" formControlName="cNo" class="form-control"
        [class.is-invalid]="cNo.invalid && cNo.untouched">
      <div *ngIf="cNo.invalid && cNo.touched">
        <small class="text-danger" *ngIf="cNo.errors?.required">Contact number cannot be empty</small>
        <small class="text-danger" *ngIf="cNo.errors?.pattern">Contact number must be a 10 digit number</small>
      </div>
    </div>

    <div class="form-group">
      <label><b>Address:</b></label>
      <input type="text" placeholder="Full Postal Address" formControlName="addrr" class="form-control"
        [class.is-invalid]="addrr.invalid && addrr.untouched">
      <div *ngIf="addrr.invalid && addrr.touched">
        <small class="text-danger" *ngIf="addrr.errors?.required">Address is required</small>
      </div>
    </div>

    <div class="form-group">
      <label><b>Email:</b></label>
      <input type="text" placeholder="example@xyz.com" formControlName="email" class="form-control"
        [class.is-invalid]="email.invalid && email.untouched">
      <div *ngIf="email.invalid && email.touched">
        <small class="text-danger" *ngIf="email.errors?.required">Email is required</small>
        <small class="text-danger" *ngIf="email.errors?.email">Email must be a valid email address</small>
      </div>
    </div>

    <div class="form-group">
      <label><b>Bio:</b></label>
      <textarea rows=5 cols=12 placeholder="Tell something about the employee" formControlName="bbio"
        class="form-control"></textarea>
    </div>
    
    <button type="submit" *ngIf="isRegister" [disabled]="registrationForm.invalid">Register</button>
    <button type="reset" *ngIf="isRegister">Reset</button>

    <button *ngIf="!isRegister" routerLink="/" [disabled]="registrationForm.invalid" type="submit" (click)="onUpdate()" style="left: 50%;">Update</button>
  </form>

  <br><br>

  <div class="box">
    <p>To see employee list Click here!!!</p>
    <button type="button" routerLink="/">Employee List</button>
  </div>

</div>